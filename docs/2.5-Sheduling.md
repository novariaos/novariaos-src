# Scheduling in Novaria
The Novaria kernel uses a time-sliced Round Robin scheduler with instruction-level granularity.

## Scheduler Loop
The kernel runs an infinite loop that continuously calls `nvm_scheduler_tick()`. Each call processes **multiple instructions** (up to 100) for the current process.

## Time Slicing
Process switching occurs every **TIME_SLICE_MS** timer ticks (not every scheduler call). When the time slice expires, the scheduler:
1. Searches for the next active, unblocked process in round-robin order
2. Switches to that process
3. Executes up to 100 instructions of the new process

## Key Characteristics
- **Quasi-preemptive**: Processes can be switched based on timer interrupts (time slices)
- **Instruction-based**: Execution is measured in bytecode instructions rather than CPU time
- **Multi-instruction batches**: For performance, each scheduler tick executes multiple instructions
- **Cooperative elements**: Processes can also yield by halting or making blocking syscalls

## Process States
- **Active**: Process can be scheduled
- **Blocked**: Process waiting for I/O or events (skipped by scheduler)
- **Inactive**: Terminated process

Note: This is a hybrid scheduler that combines time-sliced round-robin with instruction-level execution tracking.